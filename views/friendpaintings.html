<% include header.html %>

    <div ng-app class="box profile">
        <fieldset class="">
            <div class="row" ng-controller="classController">
                <br>
                <br>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Author</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Painting</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in paintings">
                            <td>{{p.author}}</td>
                            <td><a href="http://gallerylogin-helloworldbasin.rhcloud.com/recentwork/{{p.author}}/{{p.paintingName}}/{{p.description}}">{{p.paintingName}}</a></td>
                            <td>{{p.description}}</td>
                            <td>
                                <img src="/paintings/<%= name %>/{{p.paintingName}}/image.png" name="userimage" id="userimage" />

                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </fieldset>
    </div>

    <script>
        function classController($scope, $http) {
            var openshiftUrl = "http://gallerylogin-helloworldbasin.rhcloud.com/recentwork/<%= name %>";
            var loaclUrl = "http://localhost:8080/recentwork/<%= name %>"

            $http.get(openshiftUrl).success(function (paintings) {
                console.log(paintings);
                $scope.paintings = paintings;
            });
        }
    </script>


